<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inscription Soutien</title>
<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background: url('djees.jpg') no-repeat center center/cover;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    margin:0;
}
.container {
    background: rgba(255,255,255,0.95);
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 400px;
    text-align:center;
}
h2 { margin-bottom:20px; color:#007BFF; }
input, select {
    width:100%;
    padding:12px;
    margin-top:10px;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:16px;
}
button {
    margin-top:20px;
    width:100%;
    padding:15px;
    border:none;
    border-radius:10px;
    background:#007BFF;
    color:#fff;
    font-weight:600;
    font-size:16px;
    cursor:pointer;
}
button:hover { background:#0056b3; }
.radio-group { text-align:left; margin-top:10px; }
</style>
</head>
<body>
<div class="container">
<h2>Soutenir</h2>

<form id="soutienForm" action="https://formsubmit.co/bloomvasesdhonneurdoxa@gmail.com" method="POST">
<input type="text" name="nom" placeholder="Nom et Prénom" required>
<input type="email" name="email" placeholder="Email" required>
<input type="text" name="telephone" placeholder="Téléphone" required>

<p>Type de soutien :</p>
<div class="radio-group">
    <input type="radio" name="typeSoutien" value="libre" id="libre" checked> Soutien libre
    <input type="radio" name="typeSoutien" value="vetement" id="vetement"> Soutien avec vêtement
</div>

<div id="montantLibreDiv">
<input type="number" name="montantLibre" min="100" value="1000" placeholder="Montant libre (CFA)">
</div>

<div id="vetementDiv" style="display:none;">
<select name="vetementOption">
<option value="tshirt">T-shirt 6 000 CFA</option>
<option value="pull">Pull 15 000 CFA</option>
</select>
</div>

<input type="hidden" name="_next" id="nextInput" value="paiement.html?montant=1000">

<button type="button" id="submitSoutien">Envoyer et passer au paiement</button>
</form>
</div>

<script>
const libreRadio = document.getElementById('libre');
const vetementRadio = document.getElementById('vetement');
const montantLibreDiv = document.getElementById('montantLibreDiv');
const vetementDiv = document.getElementById('vetementDiv');
const form = document.getElementById('soutienForm');
const nextInput = document.getElementById('nextInput');

function toggleSoutien(){
    if(libreRadio.checked){ montantLibreDiv.style.display="block"; vetementDiv.style.display="none"; }
    else { montantLibreDiv.style.display="none"; vetementDiv.style.display="block"; }
}

libreRadio.addEventListener('change', toggleSoutien);
vetementRadio.addEventListener('change', toggleSoutien);

document.getElementById('submitSoutien').addEventListener('click', ()=>{
    let montant = 0;
    if(libreRadio.checked){ 
        montant = form.montantLibre.value || 1000;
    } else {
        montant = form.vetementOption.value === "tshirt" ? 6000 : 15000;
    }
    nextInput.value = "paiement.html?montant=" + montant;
    form.submit();
});
</script>
</body>
</html>
