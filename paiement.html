<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paiement</title>
<style>
body {
    font-family:'Segoe UI', sans-serif;
    background: url('djees.jpg') no-repeat center center/cover;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    margin:0;
}
.container {
    background: rgba(255,255,255,0.95);
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 400px;
    text-align:center;
}
h2 { color:#007BFF; margin-bottom:20px; }
.montant { font-weight:600; margin-bottom:15px; font-size:18px; }
.moyen {
    background:#007BFF;
    color:#fff;
    padding:15px;
    margin:10px 0;
    border-radius:10px;
    cursor:pointer;
    font-weight:600;
    font-size:16px;
    transition:0.3s;
}
.moyen:hover { background:#0056b3; }
#instruction { margin-top:20px; font-weight:600; color:#333; }
button#finaliser {
    margin-top:15px;
    width:100%;
    padding:15px;
    border:none;
    border-radius:10px;
    background:#28a745;
    color:#fff;
    font-weight:600;
    font-size:16px;
    cursor:pointer;
    display:none;
}
button#finaliser:hover { background:#218838; }
</style>
</head>
<body>
<div class="container">
<h2>Paiement</h2>
<p class="montant" id="montant">Montant : 0 CFA</p>

<div class="moyen" onclick="payer('Wave')">Wave</div>
<div class="moyen" onclick="payer('Orange Money')">Orange Money</div>

<p id="instruction"></p>
<button id="finaliser">Finaliser</button>
</div>

<script>
// Récupérer le montant depuis l'URL
const urlParams = new URLSearchParams(window.location.search);
const montant = urlParams.get('montant') || "0";
document.getElementById('montant').textContent = "Montant à payer : " + montant + " CFA";

// Numéros de paiement
const numerosPaiement = {
    "Wave": "0749389074",
    "Orange Money": "0749389074"
};

const finaliserBtn = document.getElementById('finaliser');
const instruction = document.getElementById('instruction');

function payer(moyen){
    const numero = numerosPaiement[moyen];
    let url = "";
    switch(moyen){
        case "Wave":
            url = `wave://pay?recipient=${numero}&amount=${montant}`;
            break;
        case "Orange Money":
            url = `om://pay?recipient=${numero}&amount=${montant}`;
            break;
        default:
            alert("Application de paiement non supportée");
            return;
    }
    // Redirection vers l'app
    window.location.href = url;

    // Instructions si l'app ne s'ouvre pas
    instruction.innerHTML = `Vous avez choisi <b>${moyen}</b>.<br>
        Si l'application ne s'ouvre pas, envoyez <b>${montant} CFA</b> au numéro <b>${numero}</b>.`;

    finaliserBtn.style.display="block";
}

// Redirection finale vers merci.html
finaliserBtn.addEventListener('click', ()=>{
    window.location.href = "merci2.html";
});
</script>
</body>
</html>
